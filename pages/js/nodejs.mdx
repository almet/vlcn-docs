import { Callout } from "nextra-theme-docs";

# NodeJS

Given `cr-sqlite` is a run time loadable extension, you can use it in `nodejs` with any `sqlite` bindings that you desire.

Some available sqlite bindings for NodeJS:
- [better-sqlite3](https://github.com/WiseLibs/better-sqlite3)
- [sqlite3](https://www.npmjs.com/package/sqlite3)

## Example

```ts
import Database from "better-sqlite3";
import SQLiteDB from "better-sqlite3";

// the crsqlite package exports the path to the extension
import { extensionPath } from "@vlcn.io/crsqlite";

const db: Database = new SQLiteDB('path-to-your-db');
// suggested settings for best performance of sqlite
db.pragma("journal_mode = WAL");
db.pragma("synchronous = NORMAL");
// load that extension with the `better-sqlite3` bindings
db.loadExtension(extensionPath);
```

## Usage

The API for interacting with the database will be the same as whatever `sqlite` bindings you chose. Creating conflict free tables and merging databases is done entirely over SQL. See the `cr-sqlite` [API documentation](/cr-sqlite/api-methods/crsql_as_crr) & [guides](/cr-sqlite/guides/merging-databases).

## Sync Server

<Callout type="info">
Note: This section is under construction. Check back soon to see how to use the websocket server package and sync changes!

Until then, you can see how the server is invoked to run the example applications: https://github.com/vlcn-io/live-examples/blob/271a9a8830ff220d5db73d78ad4431eb43bbc3f8/package.json#L11

You can also use the server as a library in your own application: https://github.com/tantaman/strut/blob/a1f84f160df6b2630bfec54863caffa997f29ade/server/src/server.ts#L10
</Callout>